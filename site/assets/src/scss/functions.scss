@use 'sass:math';

@function font-size( $i ) {
    @return var(--t#{$i});
}

@function spacing( $i ) {
    @return var(--s#{$i});
}

@function color( $color-name ) {
    @return var( --z-#{$color-name} );
}

@function fluid-type(
    $i,
    $min-base-font: 16,
    $max-base-font: 18,
    $min-text-ratio: 1.25,
    $max-text-ratio: 1.3,
    $min-screen-width: 320,
    $max-screen-width: 1500,
) {


    $min-font-size: $min-base-font * math.pow( $min-text-ratio, $i );
    $max-font-size: $max-base-font * math.pow( $max-text-ratio, $i );

    /* Calculate the gradient and intercept of the fluid slope */
    $gradient: ( $max-font-size - $min-font-size ) / ( $max-screen-width - $min-screen-width );
    $intercept: $min-font-size - $gradient * $min-screen-width;

    $min-font-size-rems: $min-font-size / $rem-value-in-pixels;
    $max-font-size-rems: $max-font-size / $rem-value-in-pixels;
    $intercept-rems: $intercept / $rem-value-in-pixels;
    $gradient-vw: $gradient * 100;

    @return clamp( math.round($min-font-size-rems * 100)/100 * 1rem, math.round($intercept-rems*100)/100 * 1rem + math.round($gradient-vw*100)/100 * 1vw, $max-font-size-rems * 1rem );
}